
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../creating-dags/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>ETL Configs How To - Limesurvey ETL</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="darkblue" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#etl-configs-how-to" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Limesurvey ETL" class="md-header__button md-logo" aria-label="Limesurvey ETL" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Limesurvey ETL
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ETL Configs How To
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="darkblue" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../creating-dags/" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Limesurvey ETL" class="md-nav__button md-logo" aria-label="Limesurvey ETL" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Limesurvey ETL
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../creating-dags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creation and configuration of new ETL pipelines in Airflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    ETL Configs How To
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    ETL Configs How To
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-write-custom-etl-configuration-yaml-files" class="md-nav__link">
    How to write custom ETL configuration yaml-files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-define-the-extract-step" class="md-nav__link">
    Step 1: Define the extract step
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.extract_config.limesurvey.LimesurveyExtractConfig" class="md-nav__link">
    LimesurveyExtractConfig
  </a>
  
    <nav class="md-nav" aria-label="LimesurveyExtractConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-define-the-transform-steps" class="md-nav__link">
    Step 2: Define the transform steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.transformation_pipeline.TransformationPipelineConfig" class="md-nav__link">
    TransformationPipelineConfig
  </a>
  
    <nav class="md-nav" aria-label="TransformationPipelineConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.transformation_pipeline.Column" class="md-nav__link">
    Column
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.select_source_data.SelectSourceDataConfig" class="md-nav__link">
    SelectSourceDataConfig
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.select_source_data.SourceTable" class="md-nav__link">
    SourceTable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.select_source_data.Join" class="md-nav__link">
    Join
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.add_columns.AddColumnsConfig" class="md-nav__link">
    AddColumnsConfig
  </a>
  
    <nav class="md-nav" aria-label="AddColumnsConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.add_computed_column.AddComputedColumnConfig" class="md-nav__link">
    AddComputedColumnConfig
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.add_computed_column.Operator" class="md-nav__link">
    Operator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.add_computed_column.ConcatOperator" class="md-nav__link">
    ConcatOperator
  </a>
  
    <nav class="md-nav" aria-label="ConcatOperator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.fill_null_values.FillNullValuesConfig" class="md-nav__link">
    FillNullValuesConfig
  </a>
  
    <nav class="md-nav" aria-label="FillNullValuesConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_3" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.filter_data.FilterDataConfig" class="md-nav__link">
    FilterDataConfig
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.filter_data.FilterCondition" class="md-nav__link">
    FilterCondition
  </a>
  
    <nav class="md-nav" aria-label="FilterCondition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_4" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.join_with_csv_mapping.JoinWithCSVMappingConfig" class="md-nav__link">
    JoinWithCSVMappingConfig
  </a>
  
    <nav class="md-nav" aria-label="JoinWithCSVMappingConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_5" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.rename_columns.RenameColumnsConfig" class="md-nav__link">
    RenameColumnsConfig
  </a>
  
    <nav class="md-nav" aria-label="RenameColumnsConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_6" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.transform_config.replace_values.ReplaceValuesConfig" class="md-nav__link">
    ReplaceValuesConfig
  </a>
  
    <nav class="md-nav" aria-label="ReplaceValuesConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_7" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-define-the-load-step" class="md-nav__link">
    Step 3: Define the Load Step
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limesurvey_etl.config.load_config.reporting_db.ReportingDBLoadConfig" class="md-nav__link">
    ReportingDBLoadConfig
  </a>
  
    <nav class="md-nav" aria-label="ReportingDBLoadConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_8" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-of-an-etl-configuration-file" class="md-nav__link">
    Example of an ETL configuration file
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="etl-configs-how-to">ETL Configs How To</h1>
<p>Limesurvey ETL pipeline configurations can consist of a variety of extractors, transformers, and loaders. The following documentation provides a detailed description of how to configure them.</p>
<h2 id="how-to-write-custom-etl-configuration-yaml-files">How to write custom ETL configuration yaml-files</h2>
<p>The ETL configuration <code>-yaml</code>-file must define three main steps which are explained in detail in the below sections: extract, transform, and load. The basic structure of the yaml-file should look as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">extract</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">&lt;EXTRACT TYPE CONFIGURATION&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nt">transformation_pipelines</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;TRANSFORMATION_PIPELINE_1&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;TRANSFORMATION_PIPELINE_2&gt;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;TRANSFORMATION_PIPELINE_3&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="nt">load</span><span class="p">:</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">&lt;LOAD TYPE CONFIGURATION&gt;</span>
</code></pre></div>
<h2 id="step-1-define-the-extract-step">Step 1: Define the extract step</h2>
<p>The extract step defines what data is extracted from limesurvey. Currently, this project only supports extracting data from the Limesurvey DB. Support for the Limesurvey API might be added in the future. Add an extract step of type <code>limesurvey_extract</code> (see <a href="./#example">example</a>) uder the <code>extract</code> field of your configuration file:</p>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.extract_config.limesurvey.LimesurveyExtractConfig" class="doc doc-heading">
          <code>LimesurveyExtractConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for extracting data from LimeSurvey.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>extract_type</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;limesurvey_extract&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of extraction, should be "limesurvey_extract".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>tables</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of tables to be extracted.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>staging_schema</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the schema to store raw data in the staging area. Default is "raw".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>use_ssh</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether to ssh into a server before running extract step. Default is True.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h5 id="example">Example</h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nt">extract_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">limesurvey_extract</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">tables</span><span class="p p-Indicator">:</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lime_questions</span>
</code></pre></div>
<h2 id="step-2-define-the-transform-steps">Step 2: Define the transform steps</h2>
<p>Transform steps define what sequence of transformations will be applied to the extracted data. You can chain multiple transformation pipelines in one ETL pipeline so that multiple tables will be created in the <code>staging</code> schema of your target database.</p>
<p>You can define a transformation pipeline by configuring the following parameters:</p>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.transformation_pipeline.TransformationPipelineConfig" class="doc doc-heading">
          <code>TransformationPipelineConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for a transformation pipeline.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>table_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the table to be created in the staging area.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>transform_steps</code></td>
          <td>
                <code><span title="typing.Sequence">Sequence</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.add_columns.AddColumnsConfig" href="#limesurvey_etl.config.transform_config.add_columns.AddColumnsConfig">AddColumnsConfig</a>, <a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.fill_null_values.FillNullValuesConfig" href="#limesurvey_etl.config.transform_config.fill_null_values.FillNullValuesConfig">FillNullValuesConfig</a>, <a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.filter_data.FilterDataConfig" href="#limesurvey_etl.config.transform_config.filter_data.FilterDataConfig">FilterDataConfig</a>, <a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.join_with_csv_mapping.JoinWithCSVMappingConfig" href="#limesurvey_etl.config.transform_config.join_with_csv_mapping.JoinWithCSVMappingConfig">JoinWithCSVMappingConfig</a>, <a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.rename_columns.RenameColumnsConfig" href="#limesurvey_etl.config.transform_config.rename_columns.RenameColumnsConfig">RenameColumnsConfig</a>, <a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.replace_values.ReplaceValuesConfig" href="#limesurvey_etl.config.transform_config.replace_values.ReplaceValuesConfig">ReplaceValuesConfig</a>, <a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.add_computed_column.AddComputedColumnConfig" href="#limesurvey_etl.config.transform_config.add_computed_column.AddComputedColumnConfig">AddComputedColumnConfig</a>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Sequence of transform step configs.
If None, only an empty table is created.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>staging_schema</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the schema to store data in the staging area.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>columns</code></td>
          <td>
                <code>list[<a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.transformation_pipeline.Column" href="#limesurvey_etl.config.transform_config.transformation_pipeline.Column">Column</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of column definitions relevant in case the staging table does not yet exists in the database.
See Column class for relevant items for the config dicts.
If None (default), table is created directly from pandas df.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>source_data</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.select_source_data.SelectSourceDataConfig" href="#limesurvey_etl.config.transform_config.select_source_data.SelectSourceDataConfig">SelectSourceDataConfig</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Source data from the extracted data the transformations should be applied to.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h4 id="_1"></h4>
<p>The <code>columns</code>, <code>data</code>, and <code>transform_steps</code> fields require additional configurations as described below:</p>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.transformation_pipeline.Column" class="doc doc-heading">
          <code>Column</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Represents a column in a database table.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the column.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Valid sqlalchemy data type, such as VARCHAR(255) or INTEGER.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>primary_key</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not the column is a primary key column in the reporting table.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>nullable</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not the column can be Null.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>foreign_key</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The foreign key associated with the column, if any.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.select_source_data.SelectSourceDataConfig" class="doc doc-heading">
          <code>SelectSourceDataConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for selecting a subset of data from source tables.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>source_schema</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the source schema.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>source_tables</code></td>
          <td>
                <code>list[<a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.select_source_data.SourceTable" href="#limesurvey_etl.config.transform_config.select_source_data.SourceTable">SourceTable</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of source tables with their columns to be selected.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>join</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.select_source_data.Join" href="#limesurvey_etl.config.transform_config.select_source_data.Join">Join</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Join configuration based on the Join class.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>filter</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional SQL filter clause.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.select_source_data.SourceTable" class="doc doc-heading">
          <code>SourceTable</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Represents a source table.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>table_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the source table.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>columns</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of column names in the source table.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.select_source_data.Join" class="doc doc-heading">
          <code>Join</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Represents a join operation.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of join operation.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>left_table</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the join's left table.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>right_table</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the join's right table.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>left_on</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Column name for joining on the left table.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>right_on</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Column name for joining on the right table.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><p>The <code>transform_steps</code> field is a list of transformations that should be applied to the data. There are a number of different transform steps available as documented below.</p>
<ul>
<li><code>add_columns</code></li>
<li><code>add_computed_column</code></li>
<li><code>fill_null_values</code></li>
<li><code>filter_data</code></li>
<li><code>join_with_csv_mapping</code></li>
<li><code>rename_columns</code></li>
<li><code>replace_values</code></li>
</ul>
<p>Note: transformations are applied in order.</p>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.add_columns.AddColumnsConfig" class="doc doc-heading">
          <code>AddColumnsConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for adding columns to a table.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transform_type</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;add_columns&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of transformation, should be "add_columns".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>column_names</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, list[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the columns to be added.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>default_value</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, int, bool, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If set, columns will contain this value.
Else, columns will be null.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h5 id="example_1">Example</h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transform_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">add_columns</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">      </span><span class="nt">column_names</span><span class="p">:</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">added_column_1</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">added_column_2</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">      </span><span class="nt">default_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
</code></pre></div>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.add_computed_column.AddComputedColumnConfig" class="doc doc-heading">
          <code>AddComputedColumnConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for adding a computed column.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transform_type</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;add_computed_column&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of transformation, should be "add_computed_column".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>column_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the new column.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>input_columns</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[list[str], str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Columns that should be used to compute the new column.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>operator</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.add_computed_column.Operator" href="#limesurvey_etl.config.transform_config.add_computed_column.Operator">Operator</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Operation used to compute the new column.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>drop_input_columns</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="typing.Literal">Literal</span>[&#39;all&#39;], list[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Input columns to be dropped from
data frame after computation.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><p>The <code>add_computed_columns</code> configuration requires to define a concat operation in the <code>operator</code> field as follows:
</p>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.add_computed_column.Operator" class="doc doc-heading">
          <code>Operator</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Represents an operator used in computations.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="typing.Literal">Literal</span>[&#39;sum&#39;], <span title="typing.Literal">Literal</span>[&#39;product&#39;], <span title="typing.Literal">Literal</span>[&#39;difference&#39;], <span title="typing.Literal">Literal</span>[&#39;concat&#39;]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Operation used to compute new column.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>separator</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Separator used to separate strings.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><p>If the operation should concatenate strings, the <code>ConcatOperator</code> has to be defined as follows:
</p>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.add_computed_column.ConcatOperator" class="doc doc-heading">
          <code>ConcatOperator</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Represents a concatenation operator.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>operator</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;concat&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of operator, should be "concat".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>separator</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Separator used to separate strings.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h5 id="example_2">Example</h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transform_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">add_computed_column</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="nt">column_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">subquestion_item_title</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="nt">input_columns</span><span class="p">:</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_item_title</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">subquestion_item_title</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">  </span><span class="nt">operator</span><span class="p">:</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">concat</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="nt">separator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;_&quot;</span>
</code></pre></div>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.fill_null_values.FillNullValuesConfig" class="doc doc-heading">
          <code>FillNullValuesConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for filling null values in a column.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transform_type</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;fill_null_values&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of transformation, should be "fill_null_values".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>column_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the column in which Null values should be replaced.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>value</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, int, float, bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Value to replace Null values with.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>method</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="typing.Literal">Literal</span>[&#39;backfill&#39;], <span title="typing.Literal">Literal</span>[&#39;ffill&#39;]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Method to use for filling Null values in Column.
'ffill' -&gt; propagate last valid observation forward to next valid.
'backfill' -&gt; use next valid observation to fill gap.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h5 id="example_3">Example</h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transform_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fill_null_values</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="nt">column_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lang</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;99&quot;</span>
</code></pre></div>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.filter_data.FilterDataConfig" class="doc doc-heading">
          <code>FilterDataConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for filtering data.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transform_type</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;filter_data&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of transformation, should be "filter_data".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>conditions</code></td>
          <td>
                <code>list[<a class="autorefs autorefs-internal" title="limesurvey_etl.config.transform_config.filter_data.FilterCondition" href="#limesurvey_etl.config.transform_config.filter_data.FilterCondition">FilterCondition</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of FilterCondition objects.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>logical_operator</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="typing.Literal">Literal</span>[&#39;AND&#39;], <span title="typing.Literal">Literal</span>[&#39;OR&#39;]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Logical operator to be applied if multiple conditions should be applied.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><p>The <code>filter_data</code> transform step requires you to set one or multiple filter <code>conditions</code> as follows:</p>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.filter_data.FilterCondition" class="doc doc-heading">
          <code>FilterCondition</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Represents a filtering condition.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>column</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The column name to apply the condition on.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>value</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The value to compare against.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>operator</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The comparison operator.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h5 id="example_4">Example</h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transform_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">filter_data</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">  </span><span class="nt">conditions</span><span class="p">:</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">column</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;age&quot;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;30&quot;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">      </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&gt;=&quot;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">column</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gender&quot;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;female&quot;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">      </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;==&quot;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">  </span><span class="nt">logical_operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AND</span>
</code></pre></div>
<p>You can also use the <code>filter_data</code> transform step multiple times to perform more sophisticated filter operations.</p>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.join_with_csv_mapping.JoinWithCSVMappingConfig" class="doc doc-heading">
          <code>JoinWithCSVMappingConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for joining data with a CSV mapping.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transform_type</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;join_with_csv_mapping&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of transformation, should be "join_with_csv_mapping".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>mapping_path</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to the CSV mapping file.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>mapping_delimiter</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Delimiter used in the CSV mapping file. Default is ",".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>keep_columns</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of columns to keep from mapping table.
If None, all columns are kept.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>how</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="typing.Literal">Literal</span>[&#39;left&#39;], <span title="typing.Literal">Literal</span>[&#39;right&#39;], <span title="typing.Literal">Literal</span>[&#39;outer&#39;], <span title="typing.Literal">Literal</span>[&#39;inner&#39;], <span title="typing.Literal">Literal</span>[&#39;cross&#39;]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of join to be performed. Default is "inner".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>on</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, list[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Column names to join on. If None, then both left_on and right_on must be specified.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>left_on</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, list[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Column names to join on in the original data frame.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>right_on</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, list[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Column names to join on in the mapping data frame.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h5 id="example_5">Example</h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transform_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">join_with_csv_mapping</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="nt">mapping_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/opt/airflow/include/mappings/mapping_question_items.csv&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="nt">mapping_delimiter</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;,&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="nt">keep_columns</span><span class="p">:</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">label_major</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">label_minor</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">  </span><span class="nt">left_on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_item_title</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">  </span><span class="nt">right_on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_item_id</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="nt">how</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">left</span>
</code></pre></div>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.rename_columns.RenameColumnsConfig" class="doc doc-heading">
          <code>RenameColumnsConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for renaming columns.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transform_type</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;rename_columns&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of transformation, should be "rename_columns".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>colname_to_colname</code></td>
          <td>
                <code>dict[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dictionary containing the original column names as keys
and the new column names as values.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h5 id="example_6">Example</h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transform_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rename_columns</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="nt">colname_to_colname</span><span class="p">:</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="s">&quot;Fragetyp</span><span class="nv"> </span><span class="s">Major</span><span class="nv"> </span><span class="s">(CFE)&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type_major</span>
</code></pre></div>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.transform_config.replace_values.ReplaceValuesConfig" class="doc doc-heading">
          <code>ReplaceValuesConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for replacing values in columns.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>transform_type</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;replace_values&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of transformation, should be "replace_values".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>column_name</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, list[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Columns in which to replace values.
If None, then value will be replaced in the entire dataframe.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>replacement_values</code></td>
          <td>
                <code>dict[<span title="typing.Union">Union</span>[str, int, float, bool], <span title="typing.Union">Union</span>[str, int, float, bool]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dictionary containing the replacement values. Dictionary keys indicate values to be
replaced by corresponding dictionary values.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h5 id="example_7">Example</h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transform_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">replace_values</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="nt">column_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">age</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="nt">replacement_values</span><span class="p">:</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="nt">999</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="s">&quot;Unknown&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Other&quot;</span>
</code></pre></div>
<h2 id="step-3-define-the-load-step">Step 3: Define the Load Step</h2>
<p>The load step defines how the data from the <code>staging</code> schema is loaded to the <code>reporting</code> schema of your target database.</p>


<div class="doc doc-object doc-class">




<h2 id="limesurvey_etl.config.load_config.reporting_db.ReportingDBLoadConfig" class="doc doc-heading">
          <code>ReportingDBLoadConfig</code>


</h2>


  <div class="doc doc-contents first">

  
      <p>Configuration for loading data into the reporting database.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>load_type</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;reporting_db_load&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Type of load, should be "reporting_db_load".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>tables</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tables to be loaded to the target. Must be in the correct order if foreign keys are used.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>staging_schema</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If applicable, the name of the schema in the staging area to load the data from.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>target_schema</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the schema to load the data to.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h5 id="example_8">Example</h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nt">load</span><span class="p">:</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="nt">load_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reporting_db_load</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="nt">staging_schema</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">staging</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="nt">target_schema</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reporting</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="nt">tables</span><span class="p">:</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_groups</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_items</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">subquestions</span>
</code></pre></div>
<h2 id="example-of-an-etl-configuration-file">Example of an ETL configuration file</h2>
<p>For a more complicated example, check out <code>airflow/dags/configs/cfe_limesurvey.yaml</code> in the repository.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nt">extract</span><span class="p">:</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="nt">extract_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">limesurvey_extract</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="nt">tables</span><span class="p">:</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lime_questions</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="nt">transformation_pipelines</span><span class="p">:</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">table_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_items</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">    </span><span class="nt">staging_schema</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">staging</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="nt">columns</span><span class="p">:</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_item_id</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INTEGER</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">        </span><span class="nt">primary_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">        </span><span class="nt">nullable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_item_title</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">VARCHAR(255)</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">        </span><span class="nt">nullable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_group_id</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">INTEGER</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">        </span><span class="nt">nullable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">        </span><span class="nt">foreign_key</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;staging.question_groups.question_group_id&quot;</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type_major</span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">VARCHAR(255)</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">        </span><span class="nt">nullable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type_minor</span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">VARCHAR(255)</span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">        </span><span class="nt">nullable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="w">    </span><span class="nt">source_data</span><span class="p">:</span>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="w">      </span><span class="nt">source_tables</span><span class="p">:</span>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">table_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lime_questions</span>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="w">          </span><span class="nt">columns</span><span class="p">:</span>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">qid AS question_item_id</span>
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">title AS question_item_title</span>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gid AS question_group_id</span>
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type AS type_major</span>
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type AS type_minor</span>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="w">      </span><span class="nt">source_schema</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">raw</span>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="w">    </span><span class="nt">transform_steps</span><span class="p">:</span>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transform_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">join_with_csv_mapping</span>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="w">        </span><span class="nt">mapping_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/opt/airflow/include/mappings/Mapping_LS-QuestionTypesMajor.csv</span>
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="w">        </span><span class="nt">mapping_delimiter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">;</span>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="w">        </span><span class="nt">keep_columns</span><span class="p">:</span>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;Fragetyp</span><span class="nv"> </span><span class="s">Major</span><span class="nv"> </span><span class="s">(CFE)&quot;</span>
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="w">        </span><span class="nt">left_on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type_major</span>
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a><span class="w">        </span><span class="nt">right_on</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Fragetyp-ID</span><span class="nv"> </span><span class="s">(LS)&quot;</span>
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a><span class="w">        </span><span class="nt">how</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">left</span>
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transform_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rename_columns</span>
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a><span class="w">        </span><span class="nt">colname_to_colname</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Fragetyp</span><span class="nv"> </span><span class="s">Major</span><span class="nv"> </span><span class="s">(CFE)&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">type_major</span>
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a>
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a><span class="nt">load</span><span class="p">:</span>
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a><span class="w">  </span><span class="nt">load_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reporting_db_load</span>
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a><span class="w">  </span><span class="nt">staging_schema</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">staging</span>
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a><span class="w">  </span><span class="nt">target_schema</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reporting</span>
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a><span class="w">  </span><span class="nt">tables</span><span class="p">:</span>
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">question_items</span>
</code></pre></div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>